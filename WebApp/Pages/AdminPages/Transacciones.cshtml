@page
@using Microsoft.AspNetCore.Authorization
@model WebApp.Pages.AdminPages.TransaccionesModel
@attribute [Authorize(Roles = "Admin")]

@section Scripts {
    <script>
        var userToken = '@HttpContext.Request.Cookies["jwt_token"]';
    </script>
    <script src="~/js/pages/transacciones.js"></script>
}

<div class="container mt-4">
    <div class="text-end mb-3">
        <a asp-page="/AdminPages/AdminHome" class="btn btn-outline-dark">← Volver</a>
    </div>

    <div class="form-inline mb-3">
        <label for="transaccionFiltro" class="mr-2">Mostrar:</label>
        <select id="transaccionFiltro" class="form-control mr-2">
            <option value="all">Todas</option>
            <option value="banco">Por Banco (IBAN)</option>
            <option value="comercio">Por Comercio (ID)</option>
        </select>

        <input type="text"
               id="filtroValor"
               class="form-control mr-2"
               placeholder="IBAN o ID de Comercio" />

        <button id="btnBuscar" class="btn btn-primary">Buscar</button>
    </div>

    <div class="card">
        <div class="card-header bg-success text-white">
            Listado de Transacciones
        </div>
        <div class="card-body" style="overflow-x: auto; width: 100%;">
            <table id="tblTransacciones" class="display" style="width:100%;">
                <thead class="thead-dark">
                    <tr>
                        <th>ID</th>
                        <th>Cuenta Bancaria</th>
                        <th>Cuenta Comercio</th>
                        <th>Monto</th>
                        <th>Comisión</th>
                        <th>Descuento Aplicado</th>
                        <th>Fecha</th>
                        <th>Método de Pago</th>
                    </tr>
                </thead>
            </table>
        </div>
    </div>
</div>
